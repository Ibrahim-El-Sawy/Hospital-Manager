<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="reports_appointment" model="ir.actions.report">
        <field name="name">Get Report</field>
        <field name="model">the.appointments</field>
        <field name="report_type" >qweb-html</field>
        <field name="report_name" >my_hospital.appointment_report_view</field>
        <field name="report_file" >my_hospital.appointment_report_view</field>
        <field name="binding_model_id"  ref="model_the_appointments"/>
        <field name="binding_type" >report</field>
    </record>
     <record id="reports_medicine" model="ir.actions.report">
        <field name="name">Get Report</field>
        <field name="model">the.medicine</field>
        <field name="report_type" >qweb-html</field>
        <field name="report_name" >my_hospital.medicine_report_view</field>
        <field name="report_file" >my_hospital.medicine_report_view</field>
        <field name="binding_model_id"  ref="model_the_medicine"/>
        <field name="binding_type" >report</field>
    </record>
        <template id="appointment_report_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="the">
                <t t-call="web.internal_layout">
                    <div class="page" style="text-align:center;">
                        <h2>Appointment Report</h2>

                        <p>
                            <strong>Appointment ID: </strong>
                            <span t-field="the.name"/>
                        </p>

                        <p>
                            <strong>Patient Name: </strong>
                            <span t-esc="the.patient_id.name"/>
                        </p>

                        <p>
                            <strong>Doctor Name: </strong>
                            <span t-esc="the.doctor_id.name"/>
                        </p>

                        <p>
                            <strong>Date: </strong>
                            <span t-field="the.app_date"/>
                        </p>

                        <p>
                            <strong>Status: </strong>
                            <span t-field="the.state"/>
                        </p>
                         <p>
                           <h3>Prescriptions</h3>
                                <table class="table table-sm" style="width: 50%;
                                            border: 1px solid #000;
                                            border-collapse: collapse;
                                            margin: auto;">
                                    <thead>
                                        <tr style="background:#eee; text-align:left; width:50px;">
                                            <th style="border:1px solid #000; padding:5px;">Medicine</th>
                                            <th style="border:1px solid #000; padding:5px;">Quantity</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <t t-foreach="the.prescription_ids" t-as="line">
                                            <tr>
                                                <td style="border:1px solid #000; padding:5px;">
                                                    <span t-field="line.medicine_id.name"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>

                        </p>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>